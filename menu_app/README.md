# Menu App iOS

iOS приложение для управления меню ресторана с интеграцией REST API.

## Функциональность

- ✅ Просмотр всех блюд
- ✅ Просмотр избранных блюд
- ✅ Создание новых блюд
- ✅ Редактирование блюд
- ✅ Удаление блюд
- ✅ Массовая отметка блюд
- ✅ Удаление всех блюд
- ✅ Создание шеф-поваров
- ✅ Настройка Secret ID для API

## Структура проекта

```
menu_app_ios/
├── Models/
│   ├── Dish.swift          # Модель блюда и категории
│   └── Chef.swift          # Модель шеф-повара
├── Services/
│   └── APIService.swift     # Сетевой слой для API запросов
├── ViewModels/
│   └── MenuViewModel.swift # ViewModel для управления состоянием
├── Views/
│   ├── MenuListView.swift  # Главный экран со списком блюд
│   ├── CreateDishView.swift # Экран создания блюда
│   ├── EditDishView.swift  # Экран редактирования блюда
│   └── SettingsView.swift  # Экран настроек
├── MenuApp.swift           # Точка входа приложения
└── Info.plist              # Конфигурация приложения
```

## API Endpoints

Приложение работает со следующими API:

- `GET /menu/api/all` - Получить все блюда
- `GET /menu/api/favorite` - Получить избранные блюда
- `POST /menu/api/create` - Создать блюдо
- `PUT /menu/api/update` - Обновить блюдо
- `POST /menu/api/mark` - Отметить блюда
- `DELETE /menu/api/delete` - Удалить блюдо
- `DELETE /menu/api/all` - Удалить все блюда
- `POST /menu/api/create/chef` - Создать шеф-повара

## Требования

- iOS 15.0 или выше
- Xcode 13.0 или выше
- Swift 5.9 или выше
- Запущенный сервер на `http://localhost:9000`

## Установка и запуск

### 1. Создайте проект в Xcode

1. Откройте Xcode
2. Выберите **File → New → Project** (⌘ + Shift + N)
3. Выберите **iOS → App**
4. Настройте проект:
   - **Product Name**: `MenuApp`
   - **Interface**: `SwiftUI`
   - **Language**: `Swift`
5. Сохраните проект в папку с этими файлами

### 2. Добавьте файлы в проект

1. В Xcode удалите автоматически созданные файлы:
   - `MenuAppApp.swift` (если есть)
   - `ContentView.swift` (если есть)

2. Добавьте все файлы из этой папки:
   - Правой кнопкой на папку проекта → **Add Files to "MenuApp"...**
   - Выберите все файлы и папки (Models, Services, ViewModels, Views)
   - Убедитесь, что стоит галочка "Create groups" (не "Create folder references")
   - Убедитесь, что выбран правильный Target: **MenuApp**
   - Нажмите **Add**

### 3. Настройте Info.plist

- Если Xcode создал свой Info.plist, замените его на наш или добавьте в существующий:
  ```xml
  <key>NSAppTransportSecurity</key>
  <dict>
      <key>NSAllowsLocalNetworking</key>
      <true/>
      <key>NSAllowsArbitraryLoads</key>
      <true/>
  </dict>
  ```

### 4. Настройте Secret ID

1. Запустите приложение
2. Откройте **Настройки** (кнопка слева вверху)
3. Введите ваш Secret ID
4. Нажмите "Сохранить Secret ID"

### 5. Запустите приложение

1. Убедитесь, что ваш сервер запущен на `http://localhost:9000`
2. Выберите симулятор iPhone или iPad
3. Нажмите **▶️ Run** (⌘ + R)

## Использование

### Просмотр блюд
- По умолчанию отображаются все блюда
- Переключитесь на вкладку "Избранное" для просмотра избранных блюд

### Создание блюда
1. Нажмите кнопку **"Добавить"** в правом верхнем углу
2. Введите название блюда
3. Выберите категорию
4. Нажмите **"Создать"**

### Редактирование блюда
1. Нажмите на меню (три точки) справа от блюда
2. Выберите **"Редактировать"**
3. Измените название
4. Нажмите **"Сохранить"**

### Отметка блюд
1. Нажмите на кружок слева от блюда для выбора
2. Выберите несколько блюд
3. Нажмите кнопку **"Отметить"** в правом верхнем углу

### Удаление блюда
1. Нажмите на меню (три точки) справа от блюда
2. Выберите **"Удалить"**

### Удаление всех блюд
1. Нажмите на меню (три точки) в правом верхнем углу
2. Выберите **"Удалить все"**

### Создание шеф-повара
1. Откройте **Настройки**
2. В разделе "Шеф-повар" введите имя
3. Нажмите **"Создать шефа"**

## Категории блюд

- Закуски (snacks)
- Салаты (salads)
- Супы (soups)
- Горячие блюда (hot_dishes)
- Гарниры (side_dishes)

## Примечания

- Для работы с localhost на симуляторе используйте `localhost`
- Для работы на реальном устройстве замените `localhost` на IP-адрес вашего компьютера в `APIService.swift`
- Secret ID хранится в UserDefaults (в продакшене рекомендуется использовать Keychain)
